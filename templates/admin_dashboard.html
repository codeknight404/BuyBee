{% extends "base.html" %}
{% block content %}
<div class="p-8 bg-blue-50/20 min-h-screen">

  <h1 class="text-3xl font-bold mb-6 text-blue-900">Admin Dashboard</h1>

  <a href="{{ url_for('product.add_product') }}"
    class="inline-block bg-blue-600/80 text-white px-5 py-2 rounded-xl hover:bg-blue-700/90 transition mb-6 shadow-md">
    + Add Product
  </a>

  <div class="overflow-x-auto">
    <table class="w-full bg-white/30 backdrop-blur-md rounded-2xl shadow-lg border border-blue-100">
      <thead class="bg-blue-100/50 rounded-t-2xl">
        <tr>
          <th class="p-3 text-left text-blue-900">ID</th>
          <th class="p-3 text-left text-blue-900">Name</th>
          <th class="p-3 text-left text-blue-900">Price</th>
          <th class="p-3 text-left text-blue-900">Stock</th>
          <th class="p-3 text-left text-blue-900">Image</th>
          <th class="p-3 text-left text-blue-900">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for p in products %}
        <tr class="hover:bg-blue-50/50 transition">
          <td class="p-3 text-blue-800">{{ p.id }}</td>
          <td class="p-3 text-blue-800">{{ p.name }}</td>
          <td class="p-3 text-blue-800">â‚¹{{ p.price }}</td>
          <td class="p-3 text-blue-800">{{ p.stock }}</td>
          <td class="p-3">
            {% if p.image %}
            <img src="{{ url_for('static', filename='uploads/' ~ p.image) }}"
              class="w-16 h-16 object-cover rounded-lg" />
            {% else %}
            <span class="text-blue-400">N/A</span>
            {% endif %}
          </td>
          <td class="p-3 flex space-x-2">
            <a href="{{ url_for('product.edit_product', product_id=p.id) }}"
              class="bg-blue-600/80 text-white px-3 py-1 rounded-lg hover:bg-blue-700/90 transition shadow">
              Edit
            </a>
            <form method="POST" action="{{ url_for('product.delete_product', product_id=p.id) }}" class="inline">
              <button type="submit"
                class="bg-red-600/80 text-white px-3 py-1 rounded-lg hover:bg-red-700/90 transition shadow"
                onclick="return confirm('Are you sure you want to delete this product?');">
                Delete
              </button>
            </form>
          </td>
        </tr>
        {% else %}
        <tr>
          <td class="p-3 text-blue-800 text-center" colspan="6">No products found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</div>
{% endblock %}